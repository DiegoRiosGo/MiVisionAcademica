<!-- ------------------------------------------------------------------------------------------------------------
     ------------------------------------- INICIO test_interes_alumno .HTML -------------------------------------
     ------------------------------------------------------------------------------------------------------------ -->

{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test de Interés</title>
<link rel="icon" type="image/png" href="{% static 'assets/imagenes/Logo2.png' %}">
<link rel="stylesheet" href="{% static 'assets/css/test_interest_alumno.css' %}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
  <!-- TITULO BARRA LATERAL -->

     <nav class="sidebar">
        <div class="profile text-center p-3">
          {% if foto %}
            <img src="data:image/jpeg;base64,{{ foto }}" alt="Perfil">
          {% else %}
            <img src="https://i.pinimg.com/736x/f6/d5/b4/f6d5b458bf7aa0276c81a666c916de18.jpg" alt="Perfil">
          {% endif %}
          <h5 class="text-white">{{ nombre }} {{ apellido }}</h5>
        </div>
        <ul class="nav flex-column">
          <li><a href="{% url 'inicio_alumno' %}" class="nav-link {% if request.resolver_match.url_name == 'inicio_alumno' %}active{% endif %}"><i class="fas fa-home me-2"></i>Inicio</a></li>
          <li><a href="{% url 'perfil_alumno' %}" class="nav-link {% if request.resolver_match.url_name == 'perfil_alumno' %}active{% endif %}"><i class="fas fa-user me-2"></i>Perfil</a></li>
          <li><a href="{% url 'test_interest_alumno' %}" class="nav-link {% if request.resolver_match.url_name == 'test_interest_alumno' %}active{% endif %}"><i class="fas fa-list-check me-2"></i>Test de Interés</a></li>
          <li><a href="{% url 'informe_alumno' %}" class="nav-link {% if request.resolver_match.url_name == 'informe_alumno' %}active{% endif %}"><i class="fas fa-file-alt me-2"></i>Informes</a></li>
          <li><a href="{% url 'estadisticas_asignatura_alumno' %}" class="nav-link {% if request.resolver_match.url_name == 'estadisticas_asignatura_alumno' %}active{% endif %}"><i class="fas fa-chart-bar me-2"></i>Estadísticas Asignatura</a></li>
          <li><a href="{% url 'retroalimentacion_alumno' %}" class="nav-link {% if request.resolver_match.url_name == 'retroalimentacion_alumno' %}active{% endif %}"><i class="fas fa-file-alt me-2"></i>Mis Retroalimentaciones</a></li>
          <li>
            <a href="#" id="btnCerrarSesion" class="nav-link text-white">
              <i class="fas fa-right-to-bracket me-2"></i>Salir
            </a>
          </li>
        </ul>
      </nav>

  <!-- TITULO FORMULARIO  -->
      <div class="content">
        <div class="topbar">
          <h4>Test de Interés</h4>
          <img src="{% static 'assets/imagenes/Logo2.png' %}" alt="Logo de la plataforma" class="logo">
        </div>

        <div class="card p-4 mb-4">
          <p>Este test te ayudará a reflexionar sobre tus intereses, habilidades y preferencias académicas. 
            Al completarlo, podrás generar un informe personalizado con inteligencia artificial. 
            Las preguntas abordan aspectos técnicos, vocacionales y personales de tu carrera. 
            Tu participación es clave para recibir recomendaciones alineadas con tus objetivos.</p>
        </div>

  <!--TITULO FORMULARIO DE INTERES-->

    <!-- Bloque del formulario -->
      <div class="formulario card p-4">
        <h5 class="text-center mb-4">Preguntas del Test</h5>

        <form id="testForm" method="POST">
          {% csrf_token %}
          <!--  Preguntas abiertas -->
          <div class="pregunta">
            <p>1. ¿Qué asignatura te ha parecido más importante o interesante en tu carrera, y por qué?</p>
            <textarea name="abierta1" class="form-control" rows="3" required></textarea>
          </div>

          <div class="pregunta">
            <p>2. ¿Qué tipo de trabajo te gustaría desempeñar al egresar de la carrera?</p>
            <textarea name="abierta2" class="form-control" rows="3" required></textarea>
          </div>

          <div class="pregunta">
            <p>3. ¿Qué habilidades técnicas sientes que dominas mejor?</p>
            <textarea name="abierta3" class="form-control" rows="3" required></textarea>
          </div>

          <div class="pregunta">
            <p>4. ¿Qué habilidades blandas crees que necesitas fortalecer?</p>
            <textarea name="abierta4" class="form-control" rows="3" required></textarea>
          </div>

          <div class="pregunta">
            <p>5. ¿Cómo te gustaría aplicar tus conocimientos en el mundo laboral?</p>
            <textarea name="abierta5" class="form-control" rows="3" required></textarea>
          </div>

          <div class="pregunta">
            <p>6. ¿Qué tipo de proyectos te gustaría desarrollar en el futuro?</p>
            <textarea name="abierta6" class="form-control" rows="3" required></textarea>
          </div>

          <div class="pregunta">
            <p>7. ¿Qué te motiva a seguir aprendiendo dentro de tu carrera?</p>
            <textarea name="abierta7" class="form-control" rows="3" required></textarea>
          </div>

          <div class="pregunta">
            <p>8. ¿Qué aspectos de tu rendimiento académico te gustaría mejorar?</p>
            <textarea name="abierta8" class="form-control" rows="3" required></textarea>
          </div>

          <div class="pregunta">
            <p>9. ¿Qué forma de enseñanza te ayuda más a aprender y sentirte motivado/a?</p>
            <textarea name="abierta9" class="form-control" rows="3" required></textarea>
          </div>

          <div class="pregunta">
            <p>10. ¿Qué áreas de la informática te generan más curiosidad o entusiasmo?</p>
            <textarea name="abierta10" class="form-control" rows="3" required></textarea>
          </div>

          <!-- Preguntas cerradas -->
          <div class="pregunta">
            <p>1. ¿En qué tipo de asignaturas sientes que desarrollas mejor tus habilidades?</p>
            <div class="opciones" data-multiple="true">
              <label><input type="checkbox" name="interes[]" value="De programación y desarrollo" > De programación y desarrollo</label>
              <label><input type="checkbox" name="interes[]" value="De análisis y datos"> De análisis y datos</label>
              <label><input type="checkbox" name="interes[]" value="De diseño y experiencia de usuario"> De diseño y experiencia de usuario</label>
              <label><input type="checkbox" name="interes[]" value="De gestión y planificación de proyectos"> De gestión y planificación de proyectos</label>
              <label><input type="checkbox" name="interes[]" value="De investigación e innovación"> De investigación e innovación</label>
            </div>
          </div>

          <div class="pregunta">
            <p>2. ¿En cuál de estas asignaturas sientes mayor dificultad?</p>
            <div class="opciones">
              <label><input type="radio" name="dificultad" value="Programación de Base de Datos"> Programación de Base de Datos</label>
              <label><input type="radio" name="dificultad" value="Estadística Descriptiva"> Estadística Descriptiva</label>
              <label><input type="radio" name="dificultad" value="Seguridad en Sistemas Computacionales"> Seguridad en Sistemas Computacionales</label>
              <label><input type="radio" name="dificultad" value="Calidad de Software"> Calidad de Software</label>
              <label><input type="radio" name="dificultad" value="Modelamiento de Base de Datos"> Modelamiento de Base de Datos</label>
            </div>
          </div>

          <div class="pregunta">
            <p>3. ¿Qué tipo de contenido te resulta más útil para aprender?</p>
            <div class="opciones" data-multiple="true">
              <label><input type="checkbox" name="contenido[]" value="Videos explicativos"> Videos explicativos</label>
              <label><input type="checkbox" name="contenido[]" value="Ejercicios prácticos"> Ejercicios prácticos</label>
              <label><input type="checkbox" name="contenido[]" value="Lecturas teóricas"> Lecturas teóricas</label>
              <label><input type="checkbox" name="contenido[]" value="Infografías y esquemas visuales"> Infografías y esquemas visuales</label>
            </div>
          </div>

          <div class="pregunta">
            <p>4. ¿Qué área profesional te atrae más?</p>
            <div class="opciones" data-multiple="true">
              <label><input type="checkbox" name="area[]" value="Desarrollo de software"> Desarrollo de software</label>
              <label><input type="checkbox" name="area[]" value="UX/UI y diseño de interfaces"> UX/UI y diseño de interfaces</label>
              <label><input type="checkbox" name="area[]" value="Ciencia de datos y Big Data"> Ciencia de datos y Big Data</label>
              <label><input type="checkbox" name="area[]" value="Gestión de proyectos"> Gestión de proyectos</label>
              <label><input type="checkbox" name="area[]" value="Ciberseguridad"> Ciberseguridad</label>
            </div>
          </div>

          <div class="pregunta">
            <p>5. ¿Qué tipo de acompañamiento académico valoras más?</p>
            <div class="opciones" data-multiple="true">
              <label><input type="checkbox" name="acompanamiento[]" value="Tutorías personalizadas"> Tutorías personalizadas</label>
              <label><input type="checkbox" name="acompanamiento[]" value="Recomendaciones automáticas basadas en datos"> Recomendaciones automáticas basadas en datos</label>
              <label><input type="checkbox" name="acompanamiento[]" value="Retroalimentación docente"> Retroalimentación docente</label>
              <label><input type="checkbox" name="acompanamiento[]" value="Grupos de estudio"> Grupos de estudio</label>
            </div>
          </div>

          <div class="pregunta">
            <p>6. ¿Qué tan claro tienes tu camino profesional?</p>
            <div class="opciones">
              <label><input type="radio" name="claridad" value="Muy claro"> Muy claro</label>
              <label><input type="radio" name="claridad" value="Algo claro"> Algo claro</label>
              <label><input type="radio" name="claridad" value="Poco claro"> Poco claro</label>
              <label><input type="radio" name="claridad" value="Nada claro"> Nada claro</label>
            </div>
          </div>

          <div class="pregunta">
            <p>7. ¿Qué te motiva más a mejorar tu rendimiento académico?</p>
            <div class="opciones" data-multiple="true">
              <label><input type="checkbox" name="motivacion[]" value="Alcanzar metas personales"> Alcanzar metas personales</label>
              <label><input type="checkbox" name="motivacion[]" value="Obtener mejores oportunidades laborales"> Obtener mejores oportunidades laborales</label>
              <label><input type="checkbox" name="motivacion[]" value="Reconocimiento académico"> Reconocimiento académico</label>
              <label><input type="checkbox" name="motivacion[]" value="Superar desafíos personales"> Superar desafíos personales</label>
            </div>
          </div>

          <div class="pregunta">
            <p>8. ¿Con qué frecuencia revisas tus notas y avances académicos?</p>
            <div class="opciones">
              <label><input type="radio" name="frecuencia" value="Cada semana"> Cada semana</label>
              <label><input type="radio" name="frecuencia" value="Cada mes"> Cada mes</label>
              <label><input type="radio" name="frecuencia" value="Solo al final del semestre"> Solo al final del semestre</label>
              <label><input type="radio" name="frecuencia" value="Casi nunca"> Casi nunca</label>
            </div>
          </div>

          <div class="pregunta">
            <p>9. ¿Qué tipo de profesional te gustaría llegar a ser según tus gustos e intereses?</p>
            <div class="opciones" data-multiple="true">
              <label><input type="checkbox" name="profesional[]" value="Alguien que diseña experiencias visuales"> Alguien que diseña experiencias visuales</label>
              <label><input type="checkbox" name="profesional[]" value="Alguien que programa soluciones eficientes"> Alguien que programa soluciones eficientes</label>
              <label><input type="checkbox" name="profesional[]" value="Alguien que analiza datos y toma decisiones"> Alguien que analiza datos y toma decisiones</label>
              <label><input type="checkbox" name="profesional[]" value="Alguien que lidera proyectos y equipos"> Alguien que lidera proyectos y equipos</label>
            </div>
          </div>

          <div class="pregunta">
            <p>10. ¿Qué tipo de certificación te gustaría obtener al finalizar la carrera?</p>
            <div class="opciones" data-multiple="true">
              <label><input type="checkbox" name="certificacion[]" value="Programación de Software"> Programación de Software</label>
              <label><input type="checkbox" name="certificacion[]" value="Inteligencia de Negocios"> Inteligencia de Negocios</label>
              <label><input type="checkbox" name="certificacion[]" value="Gestión de Proyectos Informáticos"> Gestión de Proyectos Informáticos</label>
              <label><input type="checkbox" name="certificacion[]" value="Calidad de Software"> Calidad de Software</label>
              <label><input type="checkbox" name="certificacion[]" value="Análisis y Desarrollo de Modelos de Datos"> Análisis y Desarrollo de Modelos de Datos</label>
            </div>
          </div>

          <div class="text-center mt-4">
            <button type="submit" class="Enviar-btn px-5">Enviar Test</button>
          </div>
        </form>
      </div>

<!--cerrar sesion -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const btnCerrarSesion = document.getElementById("btnCerrarSesion");

  btnCerrarSesion.addEventListener("click", (e) => {
    e.preventDefault(); // evita la redirección inmediata

    Swal.fire({
      title: "¿Deseas cerrar sesión?",
      text: "Si cierras sesión, deberás volver a iniciar sesión para continuar.",
      icon: "warning",
      showCancelButton: true,
      confirmButtonText: "Sí, cerrar sesión",
      cancelButtonText: "Cancelar",
      confirmButtonColor: "#d43939",
      cancelButtonColor: "#d1b0e9",
      reverseButtons: true,
      allowOutsideClick: false
    }).then((result) => {
      if (result.isConfirmed) {
        // Redirige solo si confirma
        window.location.href = "{% url 'Inicio' %}";
      }
    });
  });
});
</script>

      <!--llamado al js de test_interes_alumno-->
      <script src="{% static 'assets/js/test_interest_alumno.js' %}"></script>

      <!--mensajes emergentes-->
    {% if messages %}
      {% for message in messages %}
      <script>
          Swal.fire({
              icon: "{% if message.tags == 'error' %}error{% elif message.tags == 'success' %}success{% elif message.tags == 'warning' %}warning{% else %}info{% endif %}",
              title: "{{ message|escapejs }}",
              confirmButtonText: "Aceptar",
              confirmButtonColor: "#d1b0e9",
              timer: 4000,
              timerProgressBar: true
          });
      </script>
      {% endfor %}
    {% endif %}

</body>
</html>

<!-- ------------------------------------------------------------------------------------------------------------
     ------------------------------------- FIN test_interes_alumno .HTML ----------------------------------------
     ------------------------------------------------------------------------------------------------------------ -->